{"version":3,"sources":["js/mathUtils.js","js/winsize.js","js/textOnPath.js","node_modules/ev-emitter/ev-emitter.js","node_modules/imagesloaded/imagesloaded.js","js/index.js"],"names":["map","x","a","b","c","d","lerp","n","clamp","val","min","max","Math","getWinSize","width","window","innerWidth","height","innerHeight","winsize","addEventListener","firefoxAgent","navigator","userAgent","indexOf","TextOnPath","svgEl","DOM","svg","text","querySelector","removeAttribute","textPath","filterType","dataset","filterId","getAttribute","match","filterPrimitive","FilterPrimitive","pathLength","getTotalLength","svgRect","getBoundingClientRect","positionY","top","pageYOffset","startOffset","value","computeOffset","amt","updateTextPathOffset","scroll","observer","IntersectionObserver","entries","forEach","entry","isVisible","intersectionRatio","entered","update","observe","requestAnimationFrame","render","setAttribute","currentOffset","currentScroll","distance","abs","type","id","el","document","getPrimitiveType","types","minDeviation","maxDeviation","scale","baseVal","minScale","maxScale","imagesLoaded","require","preloadImages","Promise","resolve","reject","querySelectorAll","preloadFonts","WebFont","load","typekit","active","all","then","body","classList","remove"],"mappings":";AIAA;ACOA,AFPA,ACCA;ADAA,ACCA;ADAA,ACCA;ADAA,ACCA;ADAA,ACCA;AJLA,AEOA,ADPA,AEKA,ACCA;AHLA,AEKA,ACCA,IHNMa,UAAU,GAAG,SAAbA,UAAa,GAAM;ACOzB,ADNI,AEKJ,ACCA,SHNW;AACHC,AEKR,ACCA,IHNQA,KAAK,EAAEC,MAAM,CAACC,UADX;AAEHC,AEKR,ACCA,IHNQA,MAAM,EAAEF,MAAM,CAACG;AAFZ,AEQX,ACCA,GHTI;AAIH,AEKD,ACCA,CHXA;AIOA,AFIA,ACCA,ICLMgE,YAAY,GAAGC,OAAO,CAAC,cAAD,CAA5B,EAEA;AJHA,AEMA,ACCA,IHPIhE,OAAO,GAAGN,UAAU,EAAxB;AACAE,AEMA,ACCA,MHPM,CAACK,gBAAP,CAAwB,QAAxB,EAAkC;AIGlC,ALAA,ACHkC,AEOlC,ACCA,ICLMgE,KJHkCjE,OAAO,CIG5B,EJH+BN,CIG5B,SAAhBuE,AJHsD,EAA1B,WIGZ,GAAM;AACxB,ALAJ,ACJkC,AEQlC,ACCA,CHTA,GDIMpF,GAAG,EKAE,CLAC,GKAGqF,MLATrF,CKAK,CAAY,CLAX,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,CKAYmF,CLAFlF,CAAV,EAAaC,CAAb,EKAW,EAAUkF,MAAV,EAAqB;AACpCL,ALDI,AEFZ,ACOA,ACCA,ICLQA,KLDuB,CAACjF,CAAC,GAAGC,CAAL,ACFhBiB,CIGK,CAACsD,GLDqBpE,CAAC,GAAGD,CKCjB,ALDE,CKCDoF,ILDsBrF,CAAC,GAAGD,CAAzB,IAA8BE,CAAjD,EKCS,CAA0B,0BAA1B,CAAD,EAAwDkF,OAAxD,CAAZ;AACH,ALFO,AEDZ,ACOA,ACCA,CJPA,EKAW,ALEX,CKFI,AHDEjE,YAAY,GAAGC,SAAS,CAACC,SAAV,CAAoBC,OAApB,CAA4B,SAA5B,IAAyC,CAAC,CAA/D;AGIC,AFID,ACCA,CCTA,EAMA;AFGA,ACCA,IFRqBC;ACQrB,ACCA;ACJA,AFIA,ACCA,ICLMgE,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvB,ALJJ,AEDI,ACSJ,ACCA,IJTMnF,IAAI,CKIC,ELJE,EKIE+E,OAAJ,ALJL/E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AZ,CAAoB2C,YAApB,IAAoC,EAAjG,CAAN,EAA4G,MAAI,CAAClD,GAAL,CAAS6C,EAAT,CAAYtC,OAAZ,CAAoB0C,YAApB,IAAoC,CAAhJ,EAAmJ,MAAI,CAACjD,GAAL,CAAS6C,EAAT,CAAYtC,OAAZ,CAAoB2C,YAApB,IAAoC,EAAvL,CAAzC,CAAN;AAAA,AEoDpB,SFtDsB;AAGV,AEoDZ;AFnDY,AEoDZ,sBFpD0B;AAAA,AEqD1B,iBFrDgC,MAAI,CAAClD,GAAL,CAAS6C,EAAT,CAAYM,KAAZ,CAAkBC,OAAlB,GAA4B,sBAAM,oBAAIX,QAAJ,EAAc,CAAd,EAAiB,GAAjB,EAAsB,MAAI,CAACzC,GAAL,CAAS6C,EAAT,CAAYtC,OAAZ,CAAoB8C,QAApB,IAAgC,CAAtD,EAAyD,MAAI,CAACrD,GAAL,CAAS6C,EAAT,CAAYtC,OAAZ,CAAoB+C,QAApB,IAAgC,GAAzF,CAAN,EAAqG,MAAI,CAACtD,GAAL,CAAS6C,EAAT,CAAYtC,OAAZ,CAAoB8C,QAApB,IAAgC,CAArI,EAAwI,MAAI,CAACrD,GAAL,CAAS6C,EAAT,CAAYtC,OAAZ,CAAoB+C,QAApB,IAAgC,GAAxK,CAAlC;AAAA,AEsD1B;AF1DsB,AE2DtB,OF3DQ;AAMA,AEsDR,aFtDeN,KAAK,CAAC,KAAKL,IAAN,CAAL,EAAP;AACH,AEsDL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["/**\n* MathUtils.js\n* http://www.codrops.com\n*\n* Licensed under the MIT license.\n* http://www.opensource.org/licenses/mit-license.php\n* \n* Copyright 2020, Codrops\n* http://www.codrops.com\n*/\n\n// Map number x from range [a, b] to [c, d]\nconst map = (x, a, b, c, d) => (x - a) * (d - c) / (b - a) + c;\n\n// Linear interpolation\nconst lerp = (a, b, n) => (1 - n) * a + n * b;\n\n// Clamp val within min and max\nconst clamp = (val, min, max) => Math.max(Math.min(val, max), min);\n\nexport { map, lerp, clamp };\n","// Viewport size\nconst getWinSize = () => { \n    return {\n        width: window.innerWidth, \n        height: window.innerHeight\n    };\n};\nlet winsize = getWinSize();\nwindow.addEventListener('resize', () => winsize = getWinSize());\n\nexport default winsize;","/**\n* Licensed under the MIT license.\n* http://www.opensource.org/licenses/mit-license.php\n* \n* Copyright 2020, Codrops\n* http://www.codrops.com\n*/\nimport { map, lerp, clamp } from './mathUtils';\nimport winsize from './winsize'\n\n// Check if firefox\nconst firefoxAgent = navigator.userAgent.indexOf('Firefox') > -1;\n\nexport default class TextOnPath {\n    constructor(svgEl) {\n        // The SVG element\n        this.DOM = {svg: svgEl};\n        // The text element\n        this.DOM.text = this.DOM.svg.querySelector('text');\n        // Sadly firefox does not yet play nicely with SVG filters, so take them out if any applied to the text element..\n        if ( firefoxAgent ) {\n            this.DOM.text.removeAttribute('filter');\n        }\n        // Get the filter to know which one to get the primitive from\n        // The textPath element\n        this.DOM.textPath = this.DOM.text.querySelector('textPath');\n        // The filter type (defined in the svg element as data-filter-type)\n        const filterType = this.DOM.svg.dataset.filterType;\n        // The filter element id\n        const filterId = this.DOM.text.getAttribute('filter') && this.DOM.text.getAttribute('filter').match(/url\\([\"']?([^\"']*)[\"']?\\)/)[1];\n        // The SVG filter primitive object\n        // This is where the logic of the svg filter is done for the update on scroll\n        // Depending on what filter type we set up in the data-filter-type, a specific filter primitive attribute will get updated depending on the scroll speed\n        this.filterPrimitive = filterType && filterId && new FilterPrimitive(filterType, filterId);\n        // The path total length\n        this.pathLength = this.DOM.svg.querySelector('path').getTotalLength();\n        // SVG element's size/position \n        this.svgRect = this.DOM.svg.getBoundingClientRect();\n        // this is the svg element top value relative to the document\n        // To calculate this, we need to get the top value relative to the viewport and sum the current page scroll\n        this.positionY = this.svgRect.top + window.pageYOffset;\n        // Recalculate on window resize\n        window.addEventListener('resize', () => {\n            this.svgRect = this.DOM.svg.getBoundingClientRect();\n            this.positionY = this.svgRect.top + window.pageYOffset;\n        });\n        // In order to smooth the text animation, we will use linear interpolation to calculate the value of the startOffset\n        // \"value\" is the current interpolated value and \"amt\" the amount to interpolate\n        this.startOffset = {\n            value: this.computeOffset(),\n            amt: 0.22\n        };\n        // Calculate and set initial startOffset value\n        this.startOffset.value = this.computeOffset();\n        this.updateTextPathOffset();\n        // Interpolated scroll value. \n        // This will be used to calculate the text blur value which will change proportionally to the scrolling speed\n        // To calculate the speed, we use the distance from the current scroll value to the previous scroll value (or interpolated one)\n        this.scroll = {\n            value: window.pageYOffset,\n            amt: 0.17\n        };\n        // By using the IntersectionObserverAPI to check when the SVG element in inside the viewport, we can avoid calculating and updating the values for the elements outside the viewport\n        this.observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                this.isVisible = entry.intersectionRatio > 0;\n                if ( !this.isVisible ) {\n                    this.entered = false;\n                    // reset\n                    this.update();\n                }\n            });\n        });\n        this.observer.observe(this.DOM.svg);\n\n        // rAF/loop\n        requestAnimationFrame(() => this.render());\n    }\n    // Calculate the textPath element startOffset value\n    // This will allow us to position the text, depending on the current scroll position\n    computeOffset() {\n        // We want the text to start appearing from the right side of the screen when it comes into the viewport. \n        // This translates into saying that the text startOffset should have it's highest value (total path length) when the svg top value minus the page scroll equals the viewport height and it's lowest value (this case -this.pathLength/2) when it equals 0 (element is on the top part of the viewport)\n        return map(this.positionY - window.pageYOffset, winsize.height, 0, this.pathLength, -this.pathLength/2);\n    }\n    // Updates the text startOffset value\n    updateTextPathOffset() {\n        this.DOM.textPath.setAttribute('startOffset', this.startOffset.value);\n    }\n    update() {\n        // Calculate and set the interpolated startOffset value\n        const currentOffset = this.computeOffset();\n        this.startOffset.value = !this.entered ? currentOffset : lerp(this.startOffset.value, currentOffset, this.startOffset.amt);\n        this.updateTextPathOffset();\n        \n        // SVG Filter related:\n        // The current scroll value\n        const currentScroll = window.pageYOffset;\n        // Interpolated scroll value\n        this.scroll.value = !this.entered ? currentScroll : lerp(this.scroll.value, currentScroll, this.scroll.amt);\n        // Distance between the current and interpolated scroll value\n        const distance = Math.abs(this.scroll.value - currentScroll);\n        // Update the filter primitive attribute that changes as the scroll speed increases\n        this.filterPrimitive && this.filterPrimitive.update(distance);\n\n        if ( !this.entered ) {\n            this.entered = true;\n        }\n    }\n    render() {\n        if ( this.isVisible ) {\n            this.update();\n        }\n        // ...\n        requestAnimationFrame(() => this.render());\n    }\n}\n\nclass FilterPrimitive {\n    constructor(type, id) {\n        this.type = type;\n        this.DOM = {el: document.querySelector(`${id} > ${this.getPrimitiveType(this.type)}`)};  \n    }\n    getPrimitiveType(type) {\n        const types = {\n            'blur': 'feGaussianBlur',\n            'distortion': 'feDisplacementMap'\n        };\n        return types[type];\n    }\n    update(distance) {\n        const types = {\n            // The blur stdDeviation will be 0 when the distance equals 0 and 10 when the distance equals 400\n            'blur': () => this.DOM.el.setAttribute('stdDeviation', clamp(map(distance, 0, 400, this.DOM.el.dataset.minDeviation || 0, this.DOM.el.dataset.maxDeviation || 10), this.DOM.el.dataset.minDeviation || 0, this.DOM.el.dataset.maxDeviation || 10)),\n            // The displacementMap scale will be 0 when the distance equals 0 and 100 when the distance equals 200\n            'distortion': () => this.DOM.el.scale.baseVal = clamp(map(distance, 0, 200, this.DOM.el.dataset.minScale || 0, this.DOM.el.dataset.maxScale || 100), this.DOM.el.dataset.minScale || 0, this.DOM.el.dataset.maxScale || 100)\n        }; \n        return types[this.type]();       \n    }\n}","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","/**\n* Licensed under the MIT license.\n* http://www.opensource.org/licenses/mit-license.php\n* \n* Copyright 2020, Codrops\n* http://www.codrops.com\n*/\nimport TextOnPath from \"./textOnPath\";\nconst imagesLoaded = require('imagesloaded');\n\n// Preload images\nconst preloadImages = () => {\n    return new Promise((resolve, reject) => {\n        imagesLoaded(document.querySelectorAll('.grid__item-img, .bigimg'), resolve);\n    });\n};\n\n// Preload fonts\nconst preloadFonts = () => {\n    return new Promise((resolve, reject) => {\n        WebFont.load({\n            typekit: {\n                id: 'rhw1vur'\n            },\n            active: resolve\n        });\n    });\n};\n\n// Preload fonts and images\nPromise.all([preloadImages(), preloadFonts()]).then(() => {\n    // And then initialize the TextOnScroll instances\n    [...document.querySelectorAll('svg.svgtext')].forEach(el => new TextOnPath(el));\n    // Remove loader (loading class)\n    document.body.classList.remove('loading');\n});"]}